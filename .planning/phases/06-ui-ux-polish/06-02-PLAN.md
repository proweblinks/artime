---
phase: 06-ui-ux-polish
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php
  - modules/AppVideoWizard/resources/views/livewire/modals/multi-shot.blade.php
autonomous: true
user_setup: []

must_haves:
  truths:
    - "Shot type badges displayed on decomposed shots"
    - "Camera angle indicators visible"
    - "Badge colors differentiate shot types"
    - "Badges are compact and non-intrusive"
  artifacts:
    - path: "modules/AppVideoWizard/resources/views/livewire/modals/multi-shot.blade.php"
      provides: "Shot type badge display"
      contains: "vw-shot-type-badge"
  key_links:
    - from: "multi-shot.blade.php"
      to: "shot card"
      via: "shot type badges"
      pattern: "shotType"
---

<objective>
Add shot type and camera angle badges to shot cards.

**PROBLEM:** No visual indication of shot types:
- Can't quickly identify shot framing
- No camera angle visibility
- Hard to verify shot variety at a glance
- Shot purpose (establishing, reaction, OTS) not shown

Purpose: Display shot type badges for quick visual identification.

Output: Color-coded badges showing shot type, camera angle, and purpose.
</objective>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php
@modules/AppVideoWizard/resources/views/livewire/modals/multi-shot.blade.php
</context>

<tasks>

<task type="auto">
  <name>Task 1: Define shot type badge styles</name>
  <files>modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php</files>
  <action>
Add CSS for shot type badges in the style section:

```css
/* PHASE 6: Shot Type Badges */
.vw-shot-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.2rem;
    padding: 0.15rem 0.4rem;
    border-radius: 0.25rem;
    font-size: 0.6rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    white-space: nowrap;
}

/* Shot Type Colors */
.vw-shot-badge-xcu { background: rgba(239, 68, 68, 0.25); color: rgba(239, 68, 68, 0.95); }
.vw-shot-badge-cu { background: rgba(249, 115, 22, 0.25); color: rgba(249, 115, 22, 0.95); }
.vw-shot-badge-mcu { background: rgba(245, 158, 11, 0.25); color: rgba(245, 158, 11, 0.95); }
.vw-shot-badge-med { background: rgba(34, 197, 94, 0.25); color: rgba(34, 197, 94, 0.95); }
.vw-shot-badge-wide { background: rgba(59, 130, 246, 0.25); color: rgba(59, 130, 246, 0.95); }
.vw-shot-badge-est { background: rgba(99, 102, 241, 0.25); color: rgba(99, 102, 241, 0.95); }

/* Purpose Badges */
.vw-shot-badge-ots { background: rgba(139, 92, 246, 0.25); color: rgba(139, 92, 246, 0.95); }
.vw-shot-badge-reaction { background: rgba(236, 72, 153, 0.25); color: rgba(236, 72, 153, 0.95); }
.vw-shot-badge-two-shot { background: rgba(20, 184, 166, 0.25); color: rgba(20, 184, 166, 0.95); }

/* Camera Movement */
.vw-shot-badge-movement { background: rgba(168, 162, 158, 0.2); color: rgba(168, 162, 158, 0.9); }

/* Climax indicator */
.vw-shot-badge-climax {
    background: linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(236, 72, 153, 0.3));
    color: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(139, 92, 246, 0.5);
}

.vw-shot-badges {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin: 0.25rem 0;
}
```

WHY: Color-coded badges enable quick visual scanning of shot types.
  </action>
  <verify>
    - CSS classes for each shot type defined
    - Color gradient from red (XCU) to blue (Wide/Est)
    - Purpose badges have distinct colors
    - Climax badge has special gradient
    - No CSS syntax errors
  </verify>
  <done>Shot type badge styles defined</done>
</task>

<task type="auto">
  <name>Task 2: Create badge helper component</name>
  <files>modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php</files>
  <action>
Add a Blade component or helper section for generating badges. Add this PHP helper at the top of the file (in @php section):

```php
@php
// PHASE 6: Shot type badge helper
function getShotTypeBadgeClass($type) {
    $type = strtolower($type ?? '');
    $map = [
        'extreme-close-up' => 'xcu',
        'close-up' => 'cu',
        'medium-close' => 'mcu',
        'medium' => 'med',
        'wide' => 'wide',
        'establishing' => 'est',
        'over-the-shoulder' => 'ots',
        'reaction' => 'reaction',
        'two-shot' => 'two-shot',
    ];
    return $map[$type] ?? 'med';
}

function getShotTypeLabel($type) {
    $type = strtolower($type ?? '');
    $labels = [
        'extreme-close-up' => 'XCU',
        'close-up' => 'CU',
        'medium-close' => 'MCU',
        'medium' => 'MED',
        'wide' => 'WIDE',
        'establishing' => 'EST',
        'over-the-shoulder' => 'OTS',
        'reaction' => 'REACT',
        'two-shot' => '2-SHOT',
    ];
    return $labels[$type] ?? strtoupper(substr($type, 0, 4));
}

function getCameraMovementIcon($movement) {
    $icons = [
        'push-in' => '→●',
        'pull-out' => '●→',
        'pan-left' => '←',
        'pan-right' => '→',
        'tilt-up' => '↑',
        'tilt-down' => '↓',
        'static' => '●',
        'slow-push' => '→',
        'slight-drift' => '~',
    ];
    return $icons[strtolower($movement ?? '')] ?? '';
}
@endphp
```

WHY: Helper functions ensure consistent badge generation across views.
  </action>
  <verify>
    - getShotTypeBadgeClass() maps types to CSS classes
    - getShotTypeLabel() returns abbreviated labels
    - getCameraMovementIcon() returns movement indicators
    - Functions handle null/unknown types gracefully
    - No PHP syntax errors
  </verify>
  <done>Badge helper component created</done>
</task>

<task type="auto">
  <name>Task 3: Add shot type badges to multi-shot modal</name>
  <files>modules/AppVideoWizard/resources/views/livewire/modals/multi-shot.blade.php</files>
  <action>
Find the shot card header area in multi-shot modal and add badges.

First, add the same helper functions at the top of multi-shot.blade.php.

Then find where shot cards render and add badges (look for .msm-shot-card):

```blade
{{-- PHASE 6: Shot Type Badges --}}
<div class="vw-shot-badges">
    {{-- Shot Type --}}
    @if(!empty($shot['type']))
        <span class="vw-shot-badge vw-shot-badge-{{ getShotTypeBadgeClass($shot['type']) }}">
            {{ getShotTypeLabel($shot['type']) }}
        </span>
    @endif

    {{-- Purpose (if different from type) --}}
    @if(!empty($shot['purpose']) && $shot['purpose'] !== $shot['type'])
        <span class="vw-shot-badge vw-shot-badge-{{ getShotTypeBadgeClass($shot['purpose']) }}">
            {{ strtoupper(substr($shot['purpose'], 0, 4)) }}
        </span>
    @endif

    {{-- Camera Movement --}}
    @if(!empty($shot['cameraMovement']) && $shot['cameraMovement'] !== 'static')
        <span class="vw-shot-badge vw-shot-badge-movement" title="{{ $shot['cameraMovement'] }}">
            {{ getCameraMovementIcon($shot['cameraMovement']) }} {{ strtoupper(substr($shot['cameraMovement'], 0, 4)) }}
        </span>
    @endif

    {{-- Climax Indicator --}}
    @if(!empty($shot['isClimax']))
        <span class="vw-shot-badge vw-shot-badge-climax">
            CLIMAX
        </span>
    @endif
</div>
```

WHY: Shot type badges provide instant visual feedback on shot composition.
  </action>
  <verify>
    - Shot type badge displays (CU, MCU, WIDE, etc.)
    - Purpose badge shows if different from type
    - Camera movement indicator shown
    - Climax badge appears for climax shots
    - No blade syntax errors
  </verify>
  <done>Shot type badges added to multi-shot modal</done>
</task>

<task type="auto">
  <name>Task 4: Add shot count badges to main scene cards</name>
  <files>modules/AppVideoWizard/resources/views/livewire/steps/storyboard.blade.php</files>
  <action>
For main storyboard scene cards (not decomposed), show a summary of shot types when multi-shot is active.

Find where the multi-shot badge is displayed and enhance it:

```blade
{{-- PHASE 6: Enhanced Multi-Shot Summary --}}
@if($multiShotMode && !empty($multiShotMode['decomposedScenes'][$index]['shots']))
    @php
        $shots = $multiShotMode['decomposedScenes'][$index]['shots'];
        $shotTypeCounts = [];
        foreach ($shots as $shot) {
            $type = getShotTypeLabel($shot['type'] ?? 'medium');
            $shotTypeCounts[$type] = ($shotTypeCounts[$type] ?? 0) + 1;
        }
    @endphp

    <div style="
        display: flex;
        flex-wrap: wrap;
        gap: 0.2rem;
        margin-top: 0.35rem;
        padding-top: 0.35rem;
        border-top: 1px solid rgba(255,255,255,0.1);
    ">
        @foreach($shotTypeCounts as $type => $count)
            <span class="vw-shot-badge vw-shot-badge-{{ getShotTypeBadgeClass($type) }}" style="font-size: 0.55rem;">
                {{ $count }}x {{ $type }}
            </span>
        @endforeach
    </div>
@endif
```

WHY: Shot type summary shows variety at scene level without opening modal.
  </action>
  <verify>
    - Scene cards show shot type summary when decomposed
    - Counts displayed per type (e.g., "2x CU", "1x WIDE")
    - Only shown when multi-shot mode has shots
    - No blade syntax errors
  </verify>
  <done>Shot count badges added to main scene cards</done>
</task>

</tasks>

<verification>
1. Check multi-shot modal shows shot type badges
2. Check badges have correct colors per type
3. Check climax badge appears on climax shots
4. Check scene cards show shot type summary
5. No PHP/Blade/CSS errors
</verification>

<success_criteria>
- Shot type badges visible (XCU, CU, MCU, MED, WIDE, EST)
- Color gradient matches intensity (red=tight, blue=wide)
- Purpose badges show OTS, Reaction, Two-shot
- Camera movement indicators displayed
- Climax shots have special badge
- No syntax errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-ui-ux-polish/06-02-SUMMARY.md`
</output>

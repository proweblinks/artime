---
phase: 29-prompt-pipeline-integration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - modules/AppVideoWizard/app/Livewire/VideoWizard.php
autonomous: true

must_haves:
  truths:
    - "New projects default to nanobanana-pro model"
    - "Reset storyboard defaults to nanobanana-pro model"
    - "Images generated use 3 tokens instead of 1 token"
  artifacts:
    - path: "modules/AppVideoWizard/app/Livewire/VideoWizard.php"
      provides: "Default imageModel value"
      contains: "'imageModel' => 'nanobanana-pro'"
  key_links:
    - from: "storyboard initialization"
      to: "image generation"
      via: "imageModel property"
      pattern: "imageModel.*nanobanana-pro"
---

<objective>
Change default image model from 'nanobanana' (1 token) to 'nanobanana-pro' (3 tokens) for higher quality output.

Purpose: Images are lower quality than expected because the default model uses only 1 token instead of 3 tokens. This is a simple configuration fix with immediate quality impact.

Output: All new projects and storyboard resets will use nanobanana-pro by default.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/29-prompt-pipeline-integration/29-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Change default imageModel to nanobanana-pro</name>
  <files>modules/AppVideoWizard/app/Livewire/VideoWizard.php</files>
  <action>
Find and replace all occurrences of `'imageModel' => 'nanobanana'` with `'imageModel' => 'nanobanana-pro'`.

There are 3 locations to update (identified via grep):
1. Line 721: Initial storyboard default in the class property
2. Line 1739: Storyboard reset method
3. Line 11947: Another reset location

For each location:
- Change `'nanobanana'` to `'nanobanana-pro'`
- Update any comment that references "NanoBanana" to note it's the Pro version

Do NOT change lines that read from the storyboard (e.g., `$this->storyboard['imageModel'] ?? 'nanobanana'`). These are fallback values for existing projects and should also be updated to `'nanobanana-pro'` for consistency.

Actually, looking at the grep results, there are also fallback references at:
- Line 7019: `'model' => $this->storyboard['imageModel'] ?? 'nanobanana'`
- Line 7166: `'model' => $this->storyboard['imageModel'] ?? 'nanobanana'`
- Line 31797: `'model' => $this->storyboard['imageModel'] ?? 'nanobanana'`

These fallback values should also be changed to `'nanobanana-pro'` so that if a project has no imageModel set, it uses the better default.

Total: 6 locations to update.
  </action>
  <verify>
Run: `grep -n "imageModel.*nanobanana" modules/AppVideoWizard/app/Livewire/VideoWizard.php`

Expected: All 6 occurrences should now show `nanobanana-pro` instead of `nanobanana`.
  </verify>
  <done>
All imageModel defaults and fallbacks use 'nanobanana-pro'. New projects get higher quality images by default.
  </done>
</task>

</tasks>

<verification>
1. Grep for imageModel shows only nanobanana-pro values
2. No remaining references to plain 'nanobanana' as a default
3. File has no syntax errors (Laravel artisan can load it)
</verification>

<success_criteria>
- PPL-04 complete: Default model is nanobanana-pro
- All 6 locations updated consistently
- Existing projects with explicit model selection unaffected (they keep their stored value)
</success_criteria>

<output>
After completion, create `.planning/phases/29-prompt-pipeline-integration/29-01-SUMMARY.md`
</output>

# Requirements: Milestone 11.2 - Prompt Pipeline Integration

**Defined:** 2026-01-27
**Completed:** 2026-01-27
**Core Value:** Automatic, effortless, Hollywood-quality output from button clicks

## M11.2 Requirements

Requirements for Milestone 11.2. Wires prompt services to shot generation and UI.

### Prompt Pipeline (PPL)

**Primary Requirements:**
- [x] **PPL-01**: Shot prompts include Character DNA (character descriptions from Scene Memory)
- [x] **PPL-02**: Shot prompts include Location DNA (location details from Scene Memory)
- [x] **PPL-03**: Voice prompt displayed in Shot Preview modal
- [x] **PPL-04**: Default image model is nanobanana-pro (3 tokens)

### Tech Debt Closure

**From M11.2 Audit:**
- [x] **DEBT-01**: Update 3 remaining imageModel fallbacks from 'hidream' to 'nanobanana-pro'
- [x] **DEBT-02**: Add emotion field to shot creation in createShotsFromSpeechSegments
- [x] **DEBT-03**: Wire VoicePromptBuilderService to Shot Preview for enhanced voice prompts

## Traceability

| Requirement | Phase | Status |
|-------------|-------|--------|
| PPL-01 | Phase 29 | Complete |
| PPL-02 | Phase 29 | Complete |
| PPL-03 | Phase 29 | Complete |
| PPL-04 | Phase 29 | Complete |
| DEBT-01 | Phase 29.1 | Complete |
| DEBT-02 | Phase 29.1 | Complete |
| DEBT-03 | Phase 29.1 | Complete |

**Coverage:**
- M11.2 requirements: 4 primary + 3 tech debt = 7 total
- Mapped to phases: 7
- Unmapped: 0

---

*Requirements defined: 2026-01-27*
*Archived: 2026-01-27*
